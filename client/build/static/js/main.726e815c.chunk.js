(this["webpackJsonpchat-app"]=this["webpackJsonpchat-app"]||[]).push([[0],{283:function(e,t,n){},344:function(e,t,n){},421:function(e,t,n){"use strict";n.r(t);var a,s=n(7),c=n(0),r=n(24),o=n.n(r),i=n(120),l=n(31),j=n(49),u=n(48),m=n(423),b=n(426),d=n(428),O=n(96),h=n(212),p=n(181),x=n.n(p),f=n(182),g=n.n(f),v=n(430),y=n(183),N=n.n(y),C=n(427),w=n(425),I=(n(283),C.a.Text),S=function(e){var t=e.message,n=t.text,a=t.user,c=e.name,r=!1;return a===c.trim().toLowerCase()&&(r=!0),r?Object(s.jsxs)("div",{className:"messageContainer",children:[Object(s.jsx)("p",{className:"sentText",children:c}),Object(s.jsx)(w.a,{style:{width:300,alignItems:"right"},className:"message-by-me",children:Object(s.jsx)(I,{className:"content",children:n})})]}):Object(s.jsxs)("div",{className:"messageContainer",children:[Object(s.jsx)("p",{classNme:"sentText",children:a}),Object(s.jsx)(w.a,{style:{width:300,alignItems:"left"},className:"message-by-guest",children:Object(s.jsx)(I,{className:"content",children:n})})]})},E=function(e){var t=e.messages,n=e.name;return Object(s.jsx)(N.a,{className:"messages",children:t.map((function(e,t){return Object(s.jsx)("div",{className:"message-container",children:Object(s.jsx)(S,{message:e,name:n})},t)}))})},k=function(e){var t=e.room;return Object(s.jsx)(m.a,{className:"status-bar",children:Object(s.jsxs)("div",{className:"online-status",children:[Object(s.jsx)("img",{className:"onlineIcon",src:"../../resources/green-online-ico.png",alt:"online status"}),Object(s.jsx)("h4",{children:t})]})})},F=n(424),T=n(215),q=n(429),z=F.a.Dragger,B=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),n=(t[0],t[1]),a={name:"file",multiple:!1,accept:"image/*",action:"http://localhost:5000/file",onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?(T.b.success("".concat(e.file.name," uploaded successfully")),n(!0)):"error"===t&&T.b.error("".concat(e.file.name," file upload failed"))}};return Object(s.jsx)(c.Fragment,{children:Object(s.jsx)(z,Object(j.a)(Object(j.a)({},a),{},{style:{width:80},children:Object(s.jsx)(q.a,{})}))})},D=(n(344),function(e){e.userName;var t=e.location,n=Object(c.useState)(""),r=Object(u.a)(n,2),o=r[0],i=r[1],l=Object(c.useState)([]),p=Object(u.a)(l,2),f=p[0],y=p[1],N=Object(c.useState)(""),C=Object(u.a)(N,2),w=C[0],I=C[1],S=Object(c.useState)(""),F=Object(u.a)(S,2),T=F[0],q=F[1],z="https://sadchat.herokuapp.com/",D=function(e){e.preventDefault(),o&&a.emit("sendMessage",o,(function(){return i("")}))};return Object(c.useEffect)((function(){a=g.a.connect(z);var e=x.a.parse(t.search),n=e.name,s=e.room;return I(n),q(s),a.emit("login",{name:n,room:s},(function(){})),function(){a.emit("disconnect"),a.off()}}),[z,t.search]),Object(c.useEffect)((function(){a.on("message",(function(e){y([].concat(Object(h.a)(f),[e]))}))}),[f]),Object(s.jsxs)("div",{className:"conversation-pane",children:[Object(s.jsx)(m.a,{className:"status",children:Object(s.jsx)(k,{room:T})}),Object(s.jsx)("div",{className:"messages",children:Object(s.jsx)(E,{messages:f,name:w})}),Object(s.jsx)("div",{className:"input-field",children:Object(s.jsxs)(b.a,{id:"message-input",onFinish:D,layout:"inline",style:{alignItems:"center"},children:[Object(s.jsx)(b.a.Item,{children:Object(s.jsx)(B,{})}),Object(s.jsx)(b.a.Item,Object(j.a)(Object(j.a)({rules:[{required:!0}]},{labelCol:{span:24},wrapperCol:{span:24}}),{},{children:Object(s.jsx)(d.a.TextArea,{placeholder:"Enter a message...",value:o,onChange:function(e){return i(e.target.value)},onPressEnter:function(e){return D(e)},style:{height:"20px",width:"100%",resize:"none",radius:"20px"}})})),Object(s.jsx)(b.a.Item,Object(j.a)(Object(j.a)({name:"sendButton"},{labelCol:{span:24},wrapperCol:{span:24}}),{},{children:Object(s.jsx)(O.a,{className:"sendButton",type:"primary",disabled:!o,onClick:function(e){return D(e)},htmlType:"submit",style:{size:"middle",shape:"circle",backgroundColor:"00BFFF"},icon:Object(s.jsx)(v.a,{})})}))]})})]})}),L={labelCol:{span:8},wrapperCol:{span:16}},P=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),o=Object(u.a)(r,2),l=o[0],h=o[1],p=Object(c.useState)(""),x=Object(u.a)(p,2),f=x[0],g=x[1];return Object(c.useEffect)((function(){console.log(n)}),[n]),n?Object(s.jsx)("div",{children:Object(s.jsx)(D,{userName:l})}):Object(s.jsxs)(m.a,{className:"login-container",children:[Object(s.jsx)("h1",{style:{fontWeight:"bold",fontSize:18,textAlign:"center",display:"block"},children:"Enter your username and room"}),Object(s.jsx)("br",{}),Object(s.jsx)("div",{className:"login-form",children:Object(s.jsxs)(b.a,Object(j.a)(Object(j.a)({},L),{},{initialValues:{remember:!0},onFinish:function(){console.log(l),a((function(e){return!e}))},children:[Object(s.jsx)(b.a.Item,{label:"name",name:"userName",rules:[{required:!0,message:"Please enter your user id"}],children:Object(s.jsx)(d.a,{value:l,placeholder:"Enter your username",type:"text",name:"userName",autoComplete:"off",onChange:function(e){return h(e.target.value)}})}),Object(s.jsx)(b.a.Item,{label:"room",name:"room",rules:[{required:!0,message:"Please enter room id"}],children:Object(s.jsx)(d.a,{value:f,placeholder:"Enter room id",type:"text",name:"room",autoComplete:"off",onChange:function(e){return g(e.target.value)}})}),Object(s.jsx)(b.a.Item,{children:Object(s.jsx)(i.b,{onClick:function(e){return l&&f?null:e.preventDefault()},to:"/conversation?name=".concat(l,"&room=").concat(f),children:Object(s.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Login"})})})]}))})]})},A=function(){return Object(s.jsxs)(i.a,{children:[Object(s.jsx)(l.a,{path:"/",exact:!0,component:P}),Object(s.jsx)(l.a,{path:"/conversation",component:D})]})};n(419);o.a.render(Object(s.jsx)(A,{}),document.querySelector("#root"))}},[[421,1,2]]]);
//# sourceMappingURL=main.726e815c.chunk.js.map